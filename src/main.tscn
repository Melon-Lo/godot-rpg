[gd_scene format=3 uid="uid://bsjix535lauoq"]

[ext_resource type="Script" uid="uid://b3q4rx4lxtjvh" path="res://src/main.gd" id="1_h2yge"]
[ext_resource type="PackedScene" uid="uid://4w7ejvth7jpm" path="res://src/actors/player.tscn" id="2_0xm2m"]
[ext_resource type="Script" uid="uid://pwy1aqut74v2" path="res://src/core/ui/ui_manager.gd" id="3_3cfgd"]
[ext_resource type="Texture2D" uid="uid://oqicky1cb57i" path="res://assets/images/ui/bag.png" id="4_fyndt"]
[ext_resource type="Texture2D" uid="uid://pslae28tjawb" path="res://assets/images/ui/equipment.png" id="5_rlaii"]
[ext_resource type="Texture2D" uid="uid://bijkvo4w0fmyk" path="res://assets/images/ui/system.png" id="6_5mrjc"]
[ext_resource type="Texture2D" uid="uid://be1nfsqepy5tp" path="res://assets/images/ui/party.png" id="6_kf8lf"]
[ext_resource type="Texture2D" uid="uid://s80b7l6ju8fi" path="res://assets/images/ui/quest.png" id="7_kf8lf"]
[ext_resource type="Texture2D" uid="uid://da0cbth0y2rk4" path="res://assets/images/ui/skill.png" id="8_mgm53"]
[ext_resource type="Texture2D" uid="uid://bdr3ox7rmncoa" path="res://assets/images/ui/menu.png" id="10_mgm53"]
[ext_resource type="Texture2D" uid="uid://dosh6pucdfgan" path="res://assets/images/ui/menu_cross.png" id="11_uewes"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_mgm53"]
draw_center = false
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
border_color = Color(0.50500894, 0.9165033, 0.41913044, 1)

[sub_resource type="ButtonGroup" id="ButtonGroup_mgm53"]

[sub_resource type="LabelSettings" id="LabelSettings_uewes"]
font_size = 14
outline_size = 5
outline_color = Color(0, 0, 0, 1)

[node name="Main" type="Node2D" unique_id=1018068291]
y_sort_enabled = true
script = ExtResource("1_h2yge")

[node name="World" type="Node2D" parent="." unique_id=428767187]
y_sort_enabled = true

[node name="MapContainer" type="Node2D" parent="World" unique_id=233807742]
y_sort_enabled = true

[node name="Player" parent="World" unique_id=1123976875 instance=ExtResource("2_0xm2m")]
position = Vector2(65, 36)

[node name="UIManager" type="CanvasLayer" parent="." unique_id=75626202]
script = ExtResource("3_3cfgd")

[node name="SystemMenu" type="Panel" parent="UIManager" unique_id=1540009257]
visible = false
offset_left = 147.0
offset_top = 68.0
offset_right = 1147.0
offset_bottom = 668.0

[node name="HBoxContainer" type="HBoxContainer" parent="UIManager/SystemMenu" unique_id=596173797]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 0

[node name="SideBar" type="VBoxContainer" parent="UIManager/SystemMenu/HBoxContainer" unique_id=604764899]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 4

[node name="InventoryButton" type="Button" parent="UIManager/SystemMenu/HBoxContainer/SideBar" unique_id=10650582]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/pressed = SubResource("StyleBoxFlat_mgm53")
toggle_mode = true
button_group = SubResource("ButtonGroup_mgm53")

[node name="HBoxContainer" type="HBoxContainer" parent="UIManager/SystemMenu/HBoxContainer/SideBar/InventoryButton" unique_id=1736085973]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Icon" type="TextureRect" parent="UIManager/SystemMenu/HBoxContainer/SideBar/InventoryButton/HBoxContainer" unique_id=956221993]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("4_fyndt")
expand_mode = 1
stretch_mode = 3

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/SideBar/InventoryButton/HBoxContainer" unique_id=1129011894]
layout_mode = 2
size_flags_horizontal = 3
text = "背包 (F1)"

[node name="EquipmentButton" type="Button" parent="UIManager/SystemMenu/HBoxContainer/SideBar" unique_id=457960314]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/pressed = SubResource("StyleBoxFlat_mgm53")
toggle_mode = true
button_group = SubResource("ButtonGroup_mgm53")

[node name="HBoxContainer" type="HBoxContainer" parent="UIManager/SystemMenu/HBoxContainer/SideBar/EquipmentButton" unique_id=881847174]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Icon" type="TextureRect" parent="UIManager/SystemMenu/HBoxContainer/SideBar/EquipmentButton/HBoxContainer" unique_id=830063935]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("5_rlaii")
expand_mode = 1
stretch_mode = 3

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/SideBar/EquipmentButton/HBoxContainer" unique_id=636532458]
layout_mode = 2
size_flags_horizontal = 3
text = "裝備 (F2)"

[node name="PartyButton" type="Button" parent="UIManager/SystemMenu/HBoxContainer/SideBar" unique_id=1768578274]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/pressed = SubResource("StyleBoxFlat_mgm53")
toggle_mode = true
button_group = SubResource("ButtonGroup_mgm53")

[node name="HBoxContainer" type="HBoxContainer" parent="UIManager/SystemMenu/HBoxContainer/SideBar/PartyButton" unique_id=1233130399]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Icon" type="TextureRect" parent="UIManager/SystemMenu/HBoxContainer/SideBar/PartyButton/HBoxContainer" unique_id=1342678542]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("6_kf8lf")
expand_mode = 1
stretch_mode = 3

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/SideBar/PartyButton/HBoxContainer" unique_id=1978461169]
layout_mode = 2
size_flags_horizontal = 3
text = "隊伍 (F3)"

[node name="QuestButton" type="Button" parent="UIManager/SystemMenu/HBoxContainer/SideBar" unique_id=1220042936]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/pressed = SubResource("StyleBoxFlat_mgm53")
toggle_mode = true
button_group = SubResource("ButtonGroup_mgm53")

[node name="HBoxContainer" type="HBoxContainer" parent="UIManager/SystemMenu/HBoxContainer/SideBar/QuestButton" unique_id=1636498988]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Icon" type="TextureRect" parent="UIManager/SystemMenu/HBoxContainer/SideBar/QuestButton/HBoxContainer" unique_id=36167066]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("7_kf8lf")
expand_mode = 1
stretch_mode = 3

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/SideBar/QuestButton/HBoxContainer" unique_id=1845488603]
layout_mode = 2
size_flags_horizontal = 3
text = "任務 (F4)"

[node name="SkillButton" type="Button" parent="UIManager/SystemMenu/HBoxContainer/SideBar" unique_id=1410361092]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/pressed = SubResource("StyleBoxFlat_mgm53")
toggle_mode = true
button_group = SubResource("ButtonGroup_mgm53")

[node name="HBoxContainer" type="HBoxContainer" parent="UIManager/SystemMenu/HBoxContainer/SideBar/SkillButton" unique_id=2064637481]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Icon" type="TextureRect" parent="UIManager/SystemMenu/HBoxContainer/SideBar/SkillButton/HBoxContainer" unique_id=1513902314]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("8_mgm53")
expand_mode = 1
stretch_mode = 3

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/SideBar/SkillButton/HBoxContainer" unique_id=162053107]
layout_mode = 2
size_flags_horizontal = 3
text = "技能 (F5)"

[node name="SystemButton" type="Button" parent="UIManager/SystemMenu/HBoxContainer/SideBar" unique_id=2063400708]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/pressed = SubResource("StyleBoxFlat_mgm53")
toggle_mode = true
button_group = SubResource("ButtonGroup_mgm53")

[node name="HBoxContainer" type="HBoxContainer" parent="UIManager/SystemMenu/HBoxContainer/SideBar/SystemButton" unique_id=1919798836]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Icon" type="TextureRect" parent="UIManager/SystemMenu/HBoxContainer/SideBar/SystemButton/HBoxContainer" unique_id=1083636865]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("6_5mrjc")
expand_mode = 1
stretch_mode = 3

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/SideBar/SystemButton/HBoxContainer" unique_id=367119394]
layout_mode = 2
size_flags_horizontal = 3
text = "系統 (F6)"

[node name="TabContainer" type="TabContainer" parent="UIManager/SystemMenu/HBoxContainer" unique_id=1779614633]
custom_minimum_size = Vector2(20, 0)
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 3.0
current_tab = 0
tabs_visible = false

[node name="Control1" type="Control" parent="UIManager/SystemMenu/HBoxContainer/TabContainer" unique_id=2123788335]
layout_mode = 2
metadata/_tab_index = 0

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/TabContainer/Control1" unique_id=155716979]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Label 1"

[node name="Control2" type="Control" parent="UIManager/SystemMenu/HBoxContainer/TabContainer" unique_id=480436710]
visible = false
layout_mode = 2
metadata/_tab_index = 1

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/TabContainer/Control2" unique_id=1022743916]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Label 2"

[node name="Control3" type="Control" parent="UIManager/SystemMenu/HBoxContainer/TabContainer" unique_id=290405829]
visible = false
layout_mode = 2
metadata/_tab_index = 2

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/TabContainer/Control3" unique_id=1770156315]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Label 3"

[node name="Control4" type="Control" parent="UIManager/SystemMenu/HBoxContainer/TabContainer" unique_id=746527284]
visible = false
layout_mode = 2
metadata/_tab_index = 3

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/TabContainer/Control4" unique_id=255478671]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Label 4"

[node name="Control5" type="Control" parent="UIManager/SystemMenu/HBoxContainer/TabContainer" unique_id=533207904]
visible = false
layout_mode = 2
metadata/_tab_index = 4

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/TabContainer/Control5" unique_id=107121969]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Label 5"

[node name="Control6" type="Control" parent="UIManager/SystemMenu/HBoxContainer/TabContainer" unique_id=861892936]
visible = false
layout_mode = 2
metadata/_tab_index = 5

[node name="Label" type="Label" parent="UIManager/SystemMenu/HBoxContainer/TabContainer/Control6" unique_id=1660559450]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Label 6"

[node name="MenuButton" type="TextureButton" parent="UIManager" unique_id=155451386]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -80.0
offset_top = 16.0
offset_right = -16.0
offset_bottom = 80.0
grow_horizontal = 0
focus_mode = 0
toggle_mode = true
texture_normal = ExtResource("10_mgm53")
texture_pressed = ExtResource("11_uewes")

[node name="Label" type="Label" parent="UIManager/MenuButton" unique_id=1214826093]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -64.0
offset_top = 5.0
offset_right = 2.0
offset_bottom = 25.0
grow_horizontal = 0
grow_vertical = 0
text = "選單 (Tab)"
label_settings = SubResource("LabelSettings_uewes")

[connection signal="pressed" from="UIManager/SystemMenu/HBoxContainer/SideBar/InventoryButton" to="UIManager" method="_change_tab" binds= [0]]
[connection signal="pressed" from="UIManager/SystemMenu/HBoxContainer/SideBar/EquipmentButton" to="UIManager" method="_change_tab" binds= [1]]
[connection signal="pressed" from="UIManager/SystemMenu/HBoxContainer/SideBar/PartyButton" to="UIManager" method="_change_tab" binds= [2]]
[connection signal="pressed" from="UIManager/SystemMenu/HBoxContainer/SideBar/QuestButton" to="UIManager" method="_change_tab" binds= [3]]
[connection signal="pressed" from="UIManager/SystemMenu/HBoxContainer/SideBar/SkillButton" to="UIManager" method="_change_tab" binds= [4]]
[connection signal="pressed" from="UIManager/SystemMenu/HBoxContainer/SideBar/SystemButton" to="UIManager" method="_change_tab" binds= [5]]
[connection signal="pressed" from="UIManager/MenuButton" to="UIManager" method="toggle_system_menu"]
